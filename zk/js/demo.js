/*
nullifier =
  3d5d309ff14f0b3def05060870c6f1815f2b5420624c262d90575aa6a49389 (little)
  8993a4a65a57902d264c6220542b5f81f1c670080605ef3d0b4ff19f305d3d (big)
  243077043537875256874376592463467953905007486413967780945072248881018854717 (big)
secret =
  8faed9f0c6f71cc14b57cacc22b1eab246fb8351ac0f8af035ad42b6c5baae (little)
  aebac5b642ad35f08a0fac5183fb46b2eab122ccca574bc11cf7c6f0d9ae8f (big)
  308720444395701594627259353624932782415405630740494752228377454306330783375 (big)
nullifier_hash =
  097107f7c6d252a02f007694c5948b379860f8773e22a2bef15eab1c61eeeae7 (big)
  4270524347838964758799445581014653561892820038739984487868757645202897693415 (big)
commitment =
  16efa3228ed5a0ba54c580fe8438b4c53b851dc5dd9be0c3a354c1f14f2854bb (big)
merkle_leafs = [
  159dd798020ef2810bdfdb58f278014610f63f47f0bf731050a59741d223c6ae,
  602d086c140e1d288c5c1a2578e68d62168b91e41fd4a20fe0508a5fc7702b27,
  245f8050bf8f2e2bd42922f481150dc37a845a476cc3c31ae7fd500e83058a1d,
  064767fef5c0b362cfcbbfc76fae617e568900475afff8ce6d526d08c3442c1c,
  9a3cee9b6634e96de73de98c23369bf5e9478641cff1008093b5984470055f04,
  8426b3b6d26a179286d139b2dd755e0a5a6a59b13d0d5f440f8953281633662b,
  16efa3228ed5a0ba54c580fe8438b4c53b851dc5dd9be0c3a354c1f14f2854bb,  // commitment
]
*/

const { prove } = require('./prover');
const { verify } = require('./verifier')

let root = "5449870870154494757698847261691583314925861354620760480266496418887110305164";
let path_elements = [
  "21663839004416932945382355908790599225266501822907911457504978515578255421292",
  "11021736568442096415823329520020762707488570623864221697833060104667491294252",
  "7778570221867531436226471244606795659651771002475778252815750796266913615469",
  "14506027710748750947258687001455876266559341618222612722926156490737302846427",
  "4766583705360062980279572762279781527342845808161105063909171241304075622345",
  "16640205414190175414380077665118269450294358858897019640557533278896634808665",
  "13024477302430254842915163302704885770955784224100349847438808884122720088412",
  "11345696205391376769769683860277269518617256738724086786512014734609753488820",
  "17235543131546745471991808272245772046758360534180976603221801364506032471936",
  "155962837046691114236524362966874066300454611955781275944230309195800494087",
  "14030416097908897320437553787826300082392928432242046897689557706485311282736",
  "12626316503845421241020584259526236205728737442715389902276517188414400172517",
  "6729873933803351171051407921027021443029157982378522227479748669930764447503",
  "12963910739953248305308691828220784129233893953613908022664851984069510335421",
  "8697310796973811813791996651816817650608143394255750603240183429036696711432",
  "9001816533475173848300051969191408053495003693097546138634479732228054209462",
  "13882856022500117449912597249521445907860641470008251408376408693167665584212",
  "6167697920744083294431071781953545901493956884412099107903554924846764168938",
  "16572499860108808790864031418434474032816278079272694833180094335573354127261",
  "11544818037702067293688063426012553693851444915243122674915303779243865603077"
];
let path_indices = [0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

const input = {
  // Public Inputs
  root: root,
  nullifierHash: "4270524347838964758799445581014653561892820038739984487868757645202897693415",
  recipient: "12696284824510262420843062593305747029752110428",  // Checksum Address: 0x02395233b8175b0a04D5A0AD0F62Eaf7aFE55d5c
  relayer: "312267640386303481280932568793045309390384198046",   // Checksum Address: 0x36B290b60bf8aecd244Ef53E387e7602229aF19E
  fee: "3000000000000000",  // 0.003 ETH
  refund: "0",
  // Private Inputs
  nullifier: "243077043537875256874376592463467953905007486413967780945072248881018854717",
  secret: "308720444395701594627259353624932782415405630740494752228377454306330783375",
  pathElements: path_elements,
  pathIndices: path_indices
}

let proof_data = prove(input);
console.log(proof_data);
if (!verify(proof_data)) {
  console.log("Verification Failed");
} else {
  console.log("Verification Passed");
}
